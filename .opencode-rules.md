# AI Coding Rules for Vote Counter

This file contains the ground rules for AI agents working on this repository. These rules are mandatory.

## Workflow Rules
1. **One Issue = One PR**: Every task or bug fix must be implemented in its own separate branch and submitted as a standalone Pull Request.
2. **Branch Naming**: Use the format `issue/[number]-[short-description]` (e.g., `issue/93-fix-hotkeys-loop`).
3. **Atomic Commits**: Create small, focused commits with clear messages.
4. **Testing Requirement**: Every PR should include tests. **Code coverage must never decrease.** If you modify logic, you must update or add tests.
5. **Project Board Management**: 
    - Move issues to **In Progress** when you start work.
    - Move issues to **Review** only after:
        - Code changes are complete.
        - All tests (unit + E2E) pass.
        - The CI pipeline is green.
6. **No Force Push**: Avoid force pushing to shared branches unless explicitly requested.

## Technical Standards
- **Hook Rules**: Never call hooks inside loops or conditions (e.g., no `useHotkeys` in a `for` loop).
- **Type Safety**: No `as any` or `@ts-ignore`. Fix the types properly.
- **MUI Patterns**: Use current MUI v7 patterns (e.g., use the `size` prop on `Grid` instead of legacy layout props).
- **Zustand**: Use `immer` middleware for complex state updates.

## Verification
- Before submitting a PR, run:
    - `npm test`
    - `npm run test:e2e:cli:chrome`
    - `npx tsc --noEmit`
    - `npm run lint`
